@model IEnumerable<BudgetApplication.Models.ViewModels.ItemTableViewModel>
@{
    ViewData["Title"] = "ChartView";
}

<!DOCTYPE HTML>
<html>
<head>
    <link rel="stylesheet" href="css/site.css" />

    <!-- Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.11/css/mdb.min.css" rel="stylesheet">

    <script>
        window.onload = function() {

            var chart = new CanvasJS.Chart("chartContainer",
                {
                    theme: "light1", // "light1", "light2", "dark1", "dark2"
                    exportEnabled: true,
                    animationEnabled: true,
                    title: {
                        text: "Budget Pie Chart"
                    },
                    subtitles: [
                        {
                            text: "Q2, 2016"
                        }
                    ],
                    data: [
                        {
                            type: "pie",
                            startAngle: 180,
                            toolTipContent: "<b>{label}</b>: {y}%",
                            showInLegend: "true",
                            legendText: "{label}",
                            indexLabel: "{label} - {y}%",
                            dataPoints: @Html.Raw(ViewBag.DataPoints)
                        }
                    ]
                });
            chart.render();

        }
    </script>
</head>
<body>
    <div id="chartContainer"></div>
</body>
</html>

